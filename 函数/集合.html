<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function Set() {
        this.dataStore = [];
        this.add = add;
        this.remove = remove;
        this.size = size;
        this.union = union;
        this.intersect = intersect;
        this.subset = subset;
        this.difference = difference;
        this.show = show;
    }
    function add(data) {
//        indexOf() 检查新加入的元素在数组中是否存在
        if (this.dataStore.indexOf(data) < 0) {
            //如果数组中还未包含该 元素，add() 方法会将新加元素保存到数组中并返回 true
            this.dataStore.push(data);
            return true;
        } else {
            return false;
        }
    }
    function remove(data) {
        var pos = this.dataStore.indexOf(data);
        //检查待删元素是否在数组中，如果在， 则使用数组的 splice() 方法删除该元素并返回 true
        if (pos > -1) {
            this.dataStore.splice(pos, 1);
            return true;
        } else {
            //否则，返回 false，表示集合中并不 存在这样一个元素
            return false;
        }
    }
    function show() {
        //显示集合中的成员
        return this.dataStore;
    }
    var names = new Set();
    names.add('aa');
    names.add('bb');
    names.add('cc');
    names.add('dd');
    if (names.add('dd')) {
        console.log('yes')
    } else {
        console.log('no')
    }
    console.log(names.show());
    removed = 'ee';
    if (names.remove('dd')) {
        console.log('yes' + removed);
    } else {
        console.log('no' + removed);
    }
    //union() 方法执行并集操作，将 两个集合合并成一个。该方法首先将第一个集合里的成员悉数加入一个临时集合，然后检 查第二个集合中的成员，看它们是否也同时属于第一个集合。如果属于，则跳过该成员， 否则就将该成员加入临时集合。
    //contains()，该方法检查一个成员是否 属于该集合
    function contains(data) {
        if (this.dataStore.indexOf(data) > -1) {
            return true;
        }
        else {
            return false;
        }
    }

    function union(set) {
        var temp = new Set();
        for (var i = 0; i < this.dataStore.length; ++i) {
            temp.add(this.dataStore[i]);
        }
        for (var i = 0; i < set.dataStore.length; ++i) {
            if (!temp.contains(set.dataStore[i])) {
                temp.dataStore.push(set.dataStore[i]);
            }
        }
        return temp;
    }
    var cis = new Set();
    cis.add('dd');
    cis.add('cc');
    cis.add('bb');
    cis.add('aa');
    var dmp = new Set();
    dmp.add('dd');
    dmp.add('ee');
    dmp.add('ff');
    var its = new Set();
    its = cis.union(dmp);
    console.log(its.show())
    //intersect() 方法求两个集合的交集。该方法定义起来相对简单。每当发现第一 个集合的成员也属于第二个集合时，便将该成员加入一个新集合，这个新集合即为方法的 返回值
    function intersect(set) {
        var temp = new Set();
        for (var i = 0; i < this.dataStore.length; ++i) {
            if (set.contains(this.dataStore[i])) {
                temp.add(this.dataStore[i])
            }
        }
        return temp;
    }
    var cis = new Set();
    cis.add('aa');
    cis.add('dd');
    cis.add('cc');
    cis.add('bb');

    var dmp = new Set();
    dmp.add('aa');
    dmp.add('ee');
    dmp.add('ff');

    var it = cis.intersect(dmp);
    console.log(it.show());
    //subset() 方法首先要确定该集合的长度是否小于待比较 集合。如果该集合比待比较集合还要大，那么该集合肯定不会是待比较集合的一个子集。 当该集合的长度小于待比较集合时，再判断该集合内的成员是否都属于待比较集合。如果 有任意一个成员不属于待比较集合，则返回 false，程序终止。如果一直比较完该集合的 最后一个元素，所有元素都属于待比较集合，那么该集合就是待比较集合的一个子集，该 方法返回 true。
    function subset(set) {
        if (this.size() > set.size()) {
            return false;
        } else {
            for (var number in this.dataStore) {
                if (!set.contains(number)) {
                    return false
                }
            }
        }
        return true;
    }
    //    在判断每个元素是否属于待比较集合前，该方法先使用 size() 方法对比两个集合的大小。
    function size() {
        return this.dataStore.length;
    }
    var cis = new Set();
    cis.add('aa');
    cis.add('dd');
    cis.add('cc');
    cis.add('bb');
    dmp.add('ee');
    dmp.add('ff');

    var dmp = new Set();
    dmp.add('aa');
    dmp.add('ee');
    dmp.add('ff');
    if (dmp.subset(cis)) {
        console.log('yes')
    } else {
        console.log('no')
    }
    //difference()，该方法返回一个新集合，该集合包含的是那些属于第一个集合但不属于第二个集合的成员
    function difference(set) {
        var temp = new Set();
        for (var i = 0; i < this.dataStore.length; ++i) {
            if (!set.contains(this.dataStore[i])) {
                temp.add(this.dataStore[i])
            }
        }
        return temp;
    }
    var cis = new Set();
    cis.add('aa');
    cis.add('dd');
    cis.add('cc');
    cis.add('bb');
    dmp.add('ee');
    dmp.add('ff');
    dmp.add('ll')

    var dmp = new Set();
    dmp.add('aa');
    dmp.add('ee');
    dmp.add('ff');

    var diff = new Set();
    diff = cis.difference(dmp);
    console.log("[" + cis.show() + "] difference [" + it.show() + "] -> [" + diff.show() + "]")
    console.log(cis.show().toString() + 'lalala')
</script>

</body>
</html>